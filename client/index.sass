$break: 800px

$primary-color: rgb(255, 255, 255)
$primary-bg-color: rgb(0, 0, 24)
$secondary-color: rgb(0, 0, 24)
$secondary-bg-color: rgb(255, 255, 255)
$light-color: rgb(224, 224, 224)
$link-color: rgb(128, 128, 255)

$menu-height: 4em
$menu-item-width: 10em
$menu-base-pixel: 14px
$content-base-pixel: 16px
$side-margin: 12em
$top-bottom-margin: 3em
$nested-side-margin: 6em
$nested-side-margin-small: 10%
$content-width: calc(100vw - #{$side-margin} - 2 * #{$nested-side-margin})

$color-change-duration: 0.5s

@keyframes bg-color-secondary-to-light
  from
    background-color: $secondary-bg-color
  to
    background-color: $light-color

@keyframes bg-color-light-to-secondary
  from
    background-color: $light-color
  to
    background-color: $secondary-bg-color

h2
  margin-top: 2.8em

body
  width: 100%
  margin: 0
  padding: 0

a
  text-decoration: none

/* markdown */
.md
  table
    line-height: 1.2em
    width: 100%

.nav
  color: $primary-color
  background-color: $primary-bg-color
  font: $menu-base-pixel "Source Code Pro", "나눔바른고딕 Light", "Bitstream Vera Sans Mono", "Lucida Grande", Helvetica, Arial, sans-serif
  text-align: center
  height: 100vh
  a
    color: $primary-color
  .sticky
    z-index: 10
  .main-nav
    height: $menu-height
    .nav-menu-table-wrapper
      width: 100%
      background-color: $primary-bg-color
      height: calc(#{$menu-height} / 2)
      padding: calc(#{$menu-height} / 4) 0
      &.sticky
        position: fixed
        top: 0
        padding: 0
      .nav-menu-table
        margin: 0 auto
        table-layout: fixed
        td
          width: $menu-item-width
          p
            cursor: pointer
            margin: 0

  .v-center-table
    width: 100%
    height: calc(100% - 2 * #{$menu-height})
    td
      font-size: 4em
    .Typist
      display: inline
      .Cursor--blinking
        animation-name: blinker
        animation-duration: 0.7s
        animation-timing-function: linear
        animation-iteration-count: infinite
        @keyframes blinker
          0%
            opacity: 1.0
          50%
            opacity: 0.0
          100%
            opacity: 1.0
  .subnav
    color: $secondary-color
    background-color: $secondary-bg-color
    height: $menu-height
    a
      color: $secondary-color
    .subnav-menu-table-wrapper
      width: 100%
      height: calc(#{$menu-height} / 2)
      padding: calc(#{$menu-height} / 4) 0
      animation-name: bg-color-light-to-secondary
      animation-duration: $color-change-duration
      &.sticky
        position: fixed
        background-color: $light-color
        animation-name: bg-color-secondary-to-light
        animation-duration: $color-change-duration
        top: calc(#{$menu-height} / 2)
        padding: 0
      .subnav-menu-table
        margin: 0 auto
        table-layout: fixed
        td
          width: $menu-item-width
          p
            cursor: pointer
            margin: 0


.content
  color: $secondary-color
  background-color: $secondary-bg-color
  font: $content-base-pixel "Bitstream Vera Sans Mono", "나눔바른고딕 Light", "Source Code Pro", "Lucida Grande", Helvetica, Arial, sans-serif
  line-height: 2em
  a
    color: $link-color
  .content-body
    display: flex
    /* subtitle */
    .subtitle
      flex: 1
      padding: $top-bottom-margin 0
      text-align: center
      font-family: "Source Code Pro", "나눔바른고딕 Light", "Bitstream Vera Sans Mono", "Lucida Grande", Helvetica, Arial, sans-serif
      background-color: $secondary-bg-color
      animation-name: bg-color-light-to-secondary
      animation-duration: $color-change-duration
      &.sticky
        background-color: $light-color
        animation-name: bg-color-secondary-to-light
        animation-duration: $color-change-duration
      h5
        font-weight: normal
        margin: 0
      h5.selected
        font-weight: bold

    /* comment */
    .fb-comments-wrapper
      margin: $top-bottom-margin 0

    /* body */
    .about, .blog
      margin: $top-bottom-margin $nested-side-margin
    @media (max-width: $break)
      .about, .blog
        margin: $top-bottom-margin $nested-side-margin-small
    .works
      margin: $top-bottom-margin $side-margin
    @media (max-width: $break)
      .works
        margin: $top-bottom-margin $nested-side-margin-small
    .content-view-wrapper
      flex: 5
      .content-view
        $read-more-height: 2em
        position: relative  // To make .content-preview::after cover other elements -> https://stackoverflow.com/questions/39690977/how-to-specify-a-divs-position-as-absolute-and-relative-at-the-same-time
        .content-preview
          height: calc(40vh - #{$read-more-height})
          overflow: hidden
          &::after
            $after-fade-out-height: 5em
            content: ''
            position: absolute
            width: 100%
            height: $after-fade-out-height
            top: calc(40vh - #{$after-fade-out-height} - #{$read-more-height})
            left: 0
            background: linear-gradient(rgba(255, 255, 255, 0) 0px, #fff)
        .read-more
          margin: 0 auto
          height: $read-more-height
          text-align: center
          > a
            color: $link-color
            margin: 0


.footer
  color: $light-color
  background-color: $primary-bg-color
  font: $menu-base-pixel "Source Code Pro", "나눔바른고딕 Light", "Bitstream Vera Sans Mono", "Lucida Grande", Helvetica, Arial, sans-serif
  height: calc(100vh - #{$menu-height})
  a
    color: $primary-color
  .v-center-table
    padding-top: 5em
    padding-left: $side-margin
    padding-right: $side-margin
    width: 100%
    td
      .contact-table
        margin: 0 auto
        padding-top: 10%
        text-align: center
        tr
          height: 5em
          td
            width: 5em
            img
              height: 2em
      .copyright
        padding-top: 10%
        width: 100%
        text-align: center
        color: $light-color
        font-size: 1em